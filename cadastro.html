<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro - ConectaBem</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="css/design-system.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/grid.css">
  <link rel="stylesheet" href="css/estilo.css?v=3">

  <!-- Ícones -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body class="cadastro">

<!-- ✅ HEADER PADRÃO IGUAL DAS OUTRAS PÁGINAS -->
<header class="header" role="banner">
  <div class="header-inner container">
    <div class="titulo-container">
      <img src="imagens/logo.png" alt="Logo ConectaBem" class="logo">
      <h1 class="nome-site">ConectaBem</h1>
    </div>

    <!-- botão hambúrguer -->
    <button class="hamburger" aria-label="Abrir menu" aria-expanded="false" aria-controls="main-menu">
      <i class="fas fa-bars"></i>
    </button>

    <!-- menu -->
<nav id="main-menu" class="menu-nav">
  <ul class="menu">
    <li><a href="index.html">Início</a></li>

    <li><a href="projetos.html" class="link-projetos">Projetos</a></li>

    <li><a href="cadastro.html">Cadastro</a></li>
  </ul>
</nav>
  </div>
</header>

<main class="container">

  <!-- Card: Cadastro -->
  <section class="card-form">
    <h2>Cadastro</h2>

    <form id="formCadastro">

      <fieldset>
        <legend>Dados Pessoais</legend>

        <label>Nome Completo:</label>
        <input type="text" id="nome" name="nome" required>

        <label>E-mail:</label>
        <input type="email" name="email" required>

        <label>CPF:</label>
        <input type="text" id="cpf" name="cpf" maxlength="14" required>

        <label>Telefone:</label>
        <input type="text" id="telefone" name="telefone" maxlength="15" required>

        <label>Data de Nascimento:</label>
        <input type="date" name="nascimento" required>
      </fieldset>

      <fieldset>
        <legend>Endereço</legend>

        <label>CEP:</label>
        <input type="text" id="cep" name="cep" maxlength="9" required>

        <label>Cidade:</label>
        <input type="text" name="cidade" required>

        <label>Estado:</label>
        <input type="text" name="estado" maxlength="2" required>
      </fieldset>

     <button type="submit" class="btn-contribuir" onclick="openModal()">Cadastrar</button>
    </form>
  </section>

  <!-- Card: Certificado -->
  <section class="card-form">
    <h2>Gerar Certificado</h2>

    <label>Nome:</label>
    <input type="text" id="nomeCert" placeholder="Digite seu nome">

    <label>Tipo:</label>
    <select id="tipo">
      <option value="Voluntário">Voluntário</option>
      <option value="Doador">Doador</option>
      <option value="Participante">Participante</option>
    </select>

    <button id="baixarCertificado" class="btn-contribuir">
      Gerar Certificado
    </button>
  </section>

</main>

<footer class="site-footer">
  <p>© 2025 ConectaBem — Todos os direitos reservados.</p>
</footer>

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<!-- Máscaras -->
<script>
document.getElementById("cpf").addEventListener("input", function(e) {
  let v = e.target.value.replace(/\D/g, "");
  if (v.length > 3) v = v.replace(/^(\d{3})(\d)/, "$1.$2");
  if (v.length > 7) v = v.replace(/^(\d{3})\.(\d{3})(\d)/, "$1.$2.$3");
  if (v.length > 11) v = v.replace(/^(\d{3})\.(\d{3})\.(\d{3})(\d{2})/, "$1.$2.$3-$4");
  e.target.value = v;
});

document.getElementById("telefone").addEventListener("input", function(e) {
  let v = e.target.value.replace(/\D/g, "");
  v = v.replace(/^(\d{2})(\d)/g, "($1) $2");
  v = v.replace(/(\d)(\d{4})$/, "$1-$2");
  e.target.value = v;
});

document.getElementById("cep").addEventListener("input", function(e) {
  let v = e.target.value.replace(/\D/g, "");
  v = v.replace(/^(\d{5})(\d)/, "$1-$2");
  e.target.value = v;
});
</script>

<!-- Menu Mobile -->
<script src="js/app.js?v=1.3" defer></script>

<!-- Certificado -->
<script>
document.getElementById("baixarCertificado").addEventListener("click", async () => {
  const nome = document.getElementById("nomeCert").value.trim() || "Participante";
  const tipo = document.getElementById("tipo").value;
  const { jsPDF } = window.jspdf;

  try {
    let doc = new jsPDF();
    doc.setFontSize(18);
    doc.text("Certificado de Participação", 20, 20);
    doc.setFontSize(12);
    doc.text(`Nome: ${nome}`, 20, 35);
    doc.text(`Tipo: ${tipo}`, 20, 45);
    doc.save(`Certificado_${nome}.pdf`);
  } catch (error) {
    alert("Erro ao gerar certificado. Tente novamente.");
  }
});
</script>
<div class="toast"></div>
<div id="modal-bg" class="modal-backdrop">
  <div class="modal-box">
    <p>Mensagem importante ✨</p>
    <button class="btn btn-primary" onclick="closeModal()">Ok</button>
  </div>
</div>
</body>
</html>